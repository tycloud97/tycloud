<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/tycloud/blog/rss.xml" title="Tý Cloud RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tycloud/blog/atom.xml" title="Tý Cloud Atom Feed"><title data-react-helmet="true">Event Bus | Tý Cloud</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://tycloud.github.io/tycloud/docs/aws/webhook"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Event Bus | Tý Cloud"><meta data-react-helmet="true" name="description" content="Khái niệm"><meta data-react-helmet="true" property="og:description" content="Khái niệm"><link data-react-helmet="true" rel="icon" href="/tycloud/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tycloud.github.io/tycloud/docs/aws/webhook"><link data-react-helmet="true" rel="alternate" href="https://tycloud.github.io/tycloud/docs/aws/webhook" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tycloud.github.io/tycloud/docs/aws/webhook" hreflang="x-default"><link rel="stylesheet" href="/tycloud/assets/css/styles.b8263d57.css">
<link rel="preload" href="/tycloud/assets/js/runtime~main.bd045a7c.js" as="script">
<link rel="preload" href="/tycloud/assets/js/main.08cfc7f0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tycloud/"><div class="navbar__logo"><img src="/tycloud/img/logo.svg" alt="Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/tycloud/img/logo.svg" alt="Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Trang chủ</b></a><a class="navbar__item navbar__link navbar__link--active" href="/tycloud/docs/intro">Sổ tay</a><a class="navbar__item navbar__link" href="/tycloud/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tycloud97/tycloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Đóng góp bài viết<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tycloud/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/tycloud/docs/aws/auth">Amazon Web Services (AWS)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/auth">Dịch vụ xác thực</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/cdm">Common Data Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/cognito">AWS Cognito</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/engineering-principles">Quy tắc kỹ sư phần mềm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/fargate">Fargate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/micro-fronend">micro-fronend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/platform">The 5 Pillars of the AWS Well-Architected Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tycloud/docs/aws/rbac">RBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tycloud/docs/aws/webhook">Event Bus</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/tycloud/docs/architecture/auth copy">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/tycloud/docs/chung-chi/aws-sap-c01">AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/tycloud/docs/ky-nang-mem/request-for-comments">Soft Skill</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Event Bus</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="khái-niệm">Khái niệm<a class="hash-link" href="#khái-niệm" title="Direct link to heading">​</a></h2><ul><li><p>Cung cấp cách tương tác thứ 3 ra bên ngoài</p></li><li><p>Cho phép bên thứ 3 có thể theo đõi sự thay đổi</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cách-cấu-hình-hoạt-động">Cách cấu hình hoạt động<a class="hash-link" href="#cách-cấu-hình-hoạt-động" title="Direct link to heading">​</a></h2><ul><li>Bất kỳ dịch vụ nào muốn publish một sự kiện cho dịch vụ webhooks, phải</li></ul><p>có một bus sự kiện đã được tạo</p><ul><li>Nơi xuất bản các sự kiện lên tạo cấu hình trong AWS SSM Parameter Store với quy ước sau:<code>/webhook_events/${stage}/{eventName}</code>
Ví dụ:<code> /webhook_events/prod/customer_request_create</code></li></ul><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;eventName&quot;: &quot;customer_request_created&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;eventBus&quot;: &quot;event_bus_name/ARN&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;eventSource&quot;: &quot;event source in the event bus&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;eventDetailType&quot;: &quot;event detail in the event bus&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Bắt đầu xuất bản các sự kiện lên EventBus của riêng nó</li></ul><ul><li><p>Bất kỳ consumer nào muốn sử dụng webhooks, phải:</p></li><li><p>Chuyển đến giao diện người dùng Webhook và chọn sự kiện mà họ muốn định cấu hình</p></li><li><p>Giao diện người dùng Webhook sẽ gọi dịch vụ webhooks-config để quản lý webhooks (tạo, xóa, cập nhật, bật / tắt, v.v.)</p></li><li><p>Dịch vụ webhooks-config sẽ quản lý cấu hình dưới dạng Quy tắc sự kiện dưới bus sự kiện của nhà xuất bản</p><ul><li>Ví dụ: PUT / webhooks / $ {orgId} / configs / {configId} sẽ tạo Quy tắc mới cho EventBus đã được định cấu hình cho sự kiện này.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cách-vận-hành">Cách vận hành<a class="hash-link" href="#cách-vận-hành" title="Direct link to heading">​</a></h2><ul><li><p>Bây giờ mọi thứ đã ở đúng vị trí</p></li><li><p>Giờ đây, bất cứ lúc nào nhà xuất bản sẽ xuất bản một sự kiện lên EventBus của chính họ, EventBus sẽ gọi ra Quy tắc mà chúng tôi đã tạo trước đó và thực hiện theo nó:</p></li><li><p>Nó sẽ lọc tải trọng của sự kiện: đích API bị vô hiệu hóa / lọc trong EventRule không vượt qua / v.v.</p></li><li><p>Nó sẽ xác thực theo cấu hình đã đặt</p></li><li><p>Nó sẽ gửi trọng tải đến URL webhook đã được định cấu hình.</p></li><li><p>Trong trường hợp không thành công, nó sẽ thử lại trong 24 giờ tới để gửi trọng tải sự kiện đến webhook. Mỗi lần có một lỗi khác trên cùng một sự kiện, sẽ mất nhiều thời gian hơn cho đến lần thử lại tiếp theo (hay còn gọi là lùi theo cấp số nhân).</p></li><li><p>Trong trường hợp không thể phân phối sự kiện trong khoảng thời gian của 24 giờ đó, sự kiện sẽ được định cấu hình trên Hàng đợi DL, được triển khai bởi dịch vụ webhook.</p></li><li><p>Bất kỳ lỗi nào sẽ được lưu trữ trong hàng đợi DL đó, tối đa là 14 ngày. Sau đó, chúng tôi có thể thử lại những lỗi đó sau đó hoặc xây dựng giao diện người dùng ưa thích để hiển thị chúng.</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/aws/9-webhook.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/tycloud/docs/aws/rbac"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RBAC</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/tycloud/docs/architecture/auth copy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Research</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#khái-niệm" class="table-of-contents__link toc-highlight">Khái niệm</a></li><li><a href="#cách-cấu-hình-hoạt-động" class="table-of-contents__link toc-highlight">Cách cấu hình hoạt động</a></li><li><a href="#cách-vận-hành" class="table-of-contents__link toc-highlight">Cách vận hành</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tech Stack</div><ul class="footer__items"><li class="footer__item"><a href="https://tycloud97.github.io/tech-radar/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Tech Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Kết nối</div><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/in/nguyen-huu-ty" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/tycloud97" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/ty.lonely.qb/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Liên kết</div><ul class="footer__items"><li class="footer__item"><a href="https://tycloud.netlify.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog cũ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Tý Cloud, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/tycloud/assets/js/runtime~main.bd045a7c.js"></script>
<script src="/tycloud/assets/js/main.08cfc7f0.js"></script>
</body>
</html>